!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("dasframeworken",[],t):"object"==typeof exports?exports.dasframeworken=t():e.dasframeworken=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";var r=n(3);!function(e){e.dasframeworken=new r.Frameworken}(window)},function(e,t,n){"use strict";function r(e){function t(e,t){e.forEach(function(e){return e.element[e.elProp]=t})}function n(e,n,r,o){var u=i[o];u||(u=i[o]=[]),u.push({element:e,elProp:n}),r.onPropetyChanged=function(e){setTimeout(function(){t(i[e],r[e])})}}function r(e,t,n){e.addEventListener("input",function(e){var r=this;setTimeout(function(){var o=r.selectionStart,i=r.selectionEnd;t[n]=e.target.value,r.setSelectionRange(o,i)})},!0)}function o(t,i,u){var a=e[t.localName];if(a&&!t.innerHTML)return t.innerHTML=a.metadata.template,void o(t,u(a),u);/^{{\w*}}$/g.test(t.innerText)&&(n(t,"innerText",i,t.innerText.replace("{{","").replace("}}","")),t.innerText="");var s=function(e){return function(t){return i[e](t)}};if(t.attributes&&t.attributes.length)for(var c in t.attributes){var f=t.attributes[c];if("on:click"===f.name){var l=f.value.replace("()","");t.onclick=s(l)}"binding"===f.name&&(n(t,"value",i,f.value),r(t,i,f.value))}if(t.childNodes&&t.childNodes.length)for(var c in t.childNodes)o(t.childNodes[c],i,u)}var i={};return{processElement:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.componentFactory=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DIContainer=function(){function e(){r(this,e),this._typeRegistry={}}return o(e,[{key:"_getName",value:function(e,t){return e+":"+t.name}},{key:"resolve",value:function(e,t){var n=this,r=t.metadata&&t.metadata.dependencies||t.dependencies;if(!r)return new(t.bind.apply(t,[t]));var o=r.map(function(t){return n.getInstance(e,t)});return new(t.bind.apply(t,[t].concat(o)))}},{key:"getInstance",value:function(e,t){var n=this._getName(e,t),r=this._typeRegistry[n];return r.instance||(r.instance=this.resolve(e,r.type)),r.instance}},{key:"registerType",value:function(e,t){var n=this._getName(e,t);this._typeRegistry[n]||(this._typeRegistry[n]={type:t,instance:null})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Frameworken=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),u=n(2);t.Frameworken=function(){function e(){r(this,e),this._modules={},this._di=new u.DIContainer}return o(e,[{key:"module",value:function e(t,n){var e=this._modules[t];return e||(e=new i.Module(this._di,t,n),this._modules[t]=e),e}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Module=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1);t.Module=function(){function e(t,n,o){r(this,e),this._container=t,o=o||{},this._name=n,this._types=o.types,this._components=o.components,this._rootComponent=o.rootComponent,this._routes=o.routes,this._registerTypes(n,this._types),this._registerComponents(n,this._components)}return o(e,[{key:"types",get:function(){return this._types}},{key:"components",get:function(){return this._components}},{key:"rootComponent",get:function(){return this._rootComponent}}]),o(e,[{key:"_registerTypes",value:function(e,t){var n=this;t.forEach(function(t){n._container.registerType(e,t)})}},{key:"_registerComponents",value:function(e,t){var n=this;this._components={},t.forEach(function(e){return n._components[e.metadata.selector]=e})}},{key:"_buildComponent",value:function(e,t){var n=this,r=this._container.resolve(this._name,e);return t.innerHTML=e.metadata.template,(0,i.componentFactory)(this._components).processElement(t,r,function(e){return n._container.resolve(n._name,e)}),t}},{key:"_router",value:function(e){var t=location.hash.slice(1)||"/",n=this._routes.find(function(e){return e.path===t});e&&n.root&&this._buildComponent(n.root,e)}},{key:"_initializeRouting",value:function(e){var t=this;window.addEventListener("hashchange",function(){return t._router(e)}),window.addEventListener("load",function(){return t._router(e)})}},{key:"deploy",value:function(e){if(this._rootComponent){this._buildComponent(this._rootComponent,e);var t=document.getElementsByTagName("router-outlet");t.length>0&&this._initializeRouting(t[0])}else this._routes&&this._initializeRouting(e)}}]),e}()},function(e,t,n){"use strict";n(0)}])});