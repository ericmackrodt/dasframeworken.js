!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("frameworken",[],e):"object"==typeof exports?exports.frameworken=e():t.frameworken=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=27)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0}),e.returnPromise=function(t){return"boolean"==typeof t?t?Promise.resolve():Promise.reject({}):"object"===(void 0===t?"undefined":r(t))&&"function"==typeof t.then?t:Promise.resolve(t)},e.instantiateType=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e=e||[],new(t.bind.apply(t,[t].concat(e)))},e.call=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.isFunction(t)&&t.call.apply(t,[n].concat(r))},e.isFunction=function(t){return"function"==typeof t}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),o=n(11),i={},u=new o.default;e.module=function(t,e){var n=i[t];return n||(n=new r.Module(u,t,e),i[t]=n),n}},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),o=n(10),i=n(13),u=function(){function t(t,e,n){this._container=t,this._module=e,this._component=n,this._bindings=new r.Pubsub,this._eventListeners=[],o.setupController(n.controller),this._children=[],this._directives=[]}return Object.defineProperty(t.prototype,"controller",{get:function(){return this._controller},enumerable:!0,configurable:!0}),t.prototype.registerEvent=function(t,e,n){var r=this._eventListeners.find(function(n){return n.element===t&&n.event===e});r||(r={element:t,event:e,callback:n},t.addEventListener(e,n,!0),this._eventListeners.push(r))},t.prototype.initialize=function(t){var e=this;this._controller=this._container.resolve(this._component.controller);var n=this._component.render(this._controller,this);return t.appendChild(n),"function"!=typeof this._controller.onPropertyChanged&&(this._controller.onPropertyChanged=function(t){return e._bindings.emit(t,t)}),n},t.prototype.registerBinding=function(t,e){this._bindings.subscribe(t,e),e(t)},t.prototype.setInwardBinding=function(t,e){var n=this;this.registerEvent(t,"input",function(r){var o=t.selectionStart,i=t.selectionEnd;setTimeout(function(){n._controller[e]=r.target.value,setTimeout(function(){return t.setSelectionRange(o,i)})})})},t.prototype.setEvent=function(t,e,n){var r=this;this.registerEvent(t,e,function(t){return n(r._controller,t)})},t.prototype.instantiateChildComponent=function(e,n){var r=this._module.getComponent(e);if(r){var o=new t(this._container,this._module,r);return this._children.push(o),o.initialize(n)}},t.prototype.instantiateDirective=function(t,e,n,r){var o=i.find(t);if(!o)return!1;var u=i.instantiate(o,n,this._controller,this._bindings,e,r);return this._directives.push(u),!0},t.prototype.teardown=function(){for(;this._children.length;){this._children[0].teardown(),this._children.splice(0,1)}for(delete this._children,this._bindings.teardown();this._eventListeners.length;){var t=this._eventListeners[0];t.element.removeEventListener(t.event,t.callback),this._eventListeners.splice(0,1)}delete this._eventListeners},t}();e.ComponentContainer=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupController=function(t){t.prototype._notifyChange=function(t){var e=this;return"function"==typeof this.onPropertyChanged&&setTimeout(function(){e.onPropertyChanged(t)},1),this}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){return i(t)?t:t.name},i=function(t){return"string"==typeof t},u=function(t){throw new Error(t)},s=function(){function t(){this._typeRegistry={}}return Object.defineProperty(t.prototype,"typeRegistry",{get:function(){return this._typeRegistry},enumerable:!0,configurable:!0}),t.prototype.getInstance=function(t){var e=o(t),n=this._typeRegistry[e];return n||u("Type ("+e+") not registered"),n.instance||(n.instance=this.resolve(n.type)),n.instance},t.prototype.resolve=function(t){var e=this,n=t.metadata&&t.metadata.dependencies||t.dependencies;if(!n)return r.instantiateType(t);var o=n.map(function(t){return e.getInstance(t)});return r.instantiateType.apply(r,[t].concat(o))},t.prototype.registerType=function(t){var e=o(t);this._typeRegistry[e]||(this._typeRegistry[e]={type:t,instance:void 0})},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),o=function(t,e){return t.parentNode.replaceChild(e,t)},i=function(){function t(t,e,n,r){this._parent=t,this._controller=e,this._evtAggregator=n,this._context=r}return t.prototype._processEvaluation=function(t){this._placeholder||(this._placeholder=document.createComment("@if")),t===!0?(this._lastElement=this._context({}),o(this._placeholder,this._lastElement)):this._lastElement?o(this._lastElement,this._placeholder):this._parent.appendChild(this._placeholder)},t.prototype._onFieldChanged=function(t){var e=this._expression.evaluate();this._processEvaluation(e)},t.prototype.setup=function(t){var e=this;this._expression||(this._expression=new r.default(t,this._controller));var n=this._expression.evaluate();this._expression.fields.forEach(function(t){return e._evtAggregator.subscribe(t,function(t){return e._onFieldChanged(t)})}),this._processEvaluation(n)},t.prototype.teardown=function(){},t}();i.metadata={selector:"if"},e.IfDirective=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(14),i=n(0),u=[r.IfDirective,o.RepeatDirective],s="@",c=function(t){return s+t};e.find=function(t){return u.find(function(e){return c(e.metadata.selector)===t})},e.instantiate=function(t,e,n,r,o,u){var s=i.instantiateType.apply(i,[t].concat([e,n,r,u]));return s.setup(o),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){}return Object.defineProperty(t,"metadata",{get:function(){return{selector:"repeat"}},enumerable:!0,configurable:!0}),t.prototype.setup=function(t){},t.prototype.teardown=function(){},t}();e.RepeatDirective=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),i=n(16),u=n(0),s=function(t,e){return e.forEach(function(e){return t.registerType(e)})},c=function(){function t(t,e,n){this._container=t,this._name=e,n=n||{},this._name=name,this._rootComponent=n.rootComponent,this._preLoad=n.preLoad,n.types&&s(this._container,n.types),n.components&&this._registerComponents(n.components),n.routes&&this._registerRoutes(n.routes)}return Object.defineProperty(t.prototype,"rootComponent",{get:function(){return this._rootComponent},enumerable:!0,configurable:!0}),t.prototype._registerRoutes=function(t){var e=this;this._router=new i.Router(t),this._router.onRouteChanging=function(t,n){e._routeComponentContainer&&e._routeComponentContainer.teardown()},this._router.onRouteChanged=function(t){var n=document.getElementsByTagName("router-outlet")[0];t.root&&n&&(e._routeComponentContainer=e._buildComponent(t.root,n))}},t.prototype._registerComponents=function(t){var e=this;this._components={},t.forEach(function(t){"function"==typeof t&&r(t.metadata.template)?e._components[t.metadata.selector]=t:"object"===(void 0===t?"undefined":r(t))&&"function"==typeof t.render&&(e._components[t.selector]=t)})},t.prototype._buildComponent=function(t,e){for(;e.firstChild;)e.removeChild(e.firstChild);var n=new o.ComponentContainer(this._container,this,t);return n.initialize(e),n},t.prototype.getComponent=function(t){return this._components[t]},t.prototype.deploy=function(t){var e=this,n=this._preLoad&&this._preLoad();u.returnPromise(n).then(function(){e._rootComponent&&(e._rootComponentContainer=e._buildComponent(e._rootComponent,t))})},t}();e.Module=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t){var e=this;this._routes=t,this._currentRoute=null,this._onChange=function(t){var n=t.oldURL,o=t.newURL,i=e._getHash(o)||location.hash.slice(1)||"/",u=e._routes.find(function(t){return t.path===i});if(u){var s=u.resolve&&u.resolve(u);r.returnPromise(s).then(function(){"function"==typeof e.onRouteChanging&&e.onRouteChanging(e._currentRoute,u),e._currentRoute=u,"function"==typeof e.onRouteChanged&&e.onRouteChanged(e._currentRoute)}).catch(function(t){console.error(t),history.replaceState({},u.path,"#"+e._getHash(n))})}},window.addEventListener("hashchange",this._onChange),window.addEventListener("load",this._onChange)}return t.prototype._getHash=function(t){if(!t)return t;var e=t.indexOf("#")+1;return t.substring(e,t.length)},t.prototype.destroy=function(){window.removeEventListener("hashchange",this._onChange),window.removeEventListener("load",this._onChange)},t}();e.Router=o},,,,,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Pubsub=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(23);e.Pubsub=function(){function t(){r(this,t),this._subscriptions={}}return o(t,[{key:"subscribe",value:function(t,e){var n=this._subscriptions[t];n||(this._subscriptions[t]=n=new i.Subscriber),n.subscribe(e)}},{key:"emit",value:function(t,e){var n=this._subscriptions[t];n&&n.emit(e)}},{key:"get",value:function(t){return this._subscriptions[t]}},{key:"unsubscribe",value:function(t){var e=this._subscriptions[t];e&&e.teardown(),delete this._subscriptions[t]}},{key:"teardown",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=Object.keys(this._subscriptions)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.unsubscribe(i)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}delete this._subscriptions}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Subscriber=function(){function t(){r(this,t),this._subscriptions=[]}return o(t,[{key:"subscribe",value:function(t){this._subscriptions&&this._subscriptions.push(t)}},{key:"emit",value:function(t){this._subscriptions.forEach(function(e){setTimeout(function(){return e(t)},1)})}},{key:"remove",value:function(t){var e=this._subscriptions.indexOf(t);this._subscriptions.splice(e,1)}},{key:"teardown",value:function(){for(var t=this._subscriptions.length-1;t--;)this._subscriptions.splice(t,1);delete this._subscriptions}}]),t}()},function(t,e,n){"use strict";(function(t){var n,r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(u,s){"object"===i(e)&&"object"===i(t)?t.exports=s():(r=[],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o))}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=/^\s*([^\sˆ&|\'"\(\)]+|["'][^'"]+["'])\s*$|^\s*([^\sˆ&|\'"\(\)]+|["'][^'"]*["'])\s*([^'"\w\s|&]{1,3})\s*([^\sˆ&|\'"\(\)]+|["'][^'"]*["'])\s*$/,o=/^['"](.*)['"]$/,i=/^\s*([!]+)\s*(\w+)\s*$/,u=["&&","||"],s={},c=function(t){return["true","false"].indexOf(t)>-1},a=function(t){return"function"==typeof t},f=function(t,e){return t.indexOf(e)>-1},l=function(t){return t[Math.round((t.length-1)/2)]},p=function(t){return t.match(/([&|]{2})|([\(\)])|([^\sˆ&|\'"\(\)]+|["'].+["'])\s*([^\w\s|&\(\)]{1,3})?\s*([^\sˆ&|\(\)]+)?/g)},h=function(t){return/^\s*([a-z]\w+)(\.[a-z]\w+)*\s*$/g.test(t)},d=function(t){return a(t)?t():t},y=function(t,e){return t[0]=e},_=function(t){return t[0]},v=function(t,e){var n=t.exec(e)||[];if(0!==n.length)return n=n.filter(function(t){return void 0!==t}),n.shift(),n},b=function(t){return s[t].expression},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];throw new Error(t.join(""))},g=function(t,e){return m("Operator ["+t+"] is not valid in expression ["+b(e)+"]")},C=function(t){return m("Invalid expression ["+b(t)+"]")},w=function(t,e,n){return{"==":function(){return d(e)==d(n)},"!=":function(){return d(e)!=d(n)},"===":function(){return d(e)===d(n)},"!==":function(){return d(e)!==d(n)},"<=":function(){return d(e)<=d(n)},">=":function(){return d(e)>=d(n)},"<":function(){return d(e)<d(n)},">":function(){return d(e)>d(n)},"&&":function(){return d(e)&&d(n)},"||":function(){return d(e)||d(n)}}[t]},P=function t(e,n,r,o){var i;e.shift(),e.length&&(i=t(e,n,r,o));var u=E(n,r,o);return function(){return!d(i||u)}},x=function t(e,n){var r=e[e.length-1];e.pop();var o;return o=n?function(t){return n(t[r])}:function(t){return t[r]},e.length?t(e,o):o},O=function(t,e){var n=s[e].fields;n||(n=s[e].fields=[]),n.push(t)},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!t.every(function(t){return!t()})},E=function(t,e,n){var r;if(r=v(i,t)){return P(r[0].split(""),r[1],e,n)}if(c(t))return"true"===t;if(h(t)){var u=x(t.split("."));return O(t,n),function(){return u(e)}}return isNaN(t)?(r=o.exec(t))?l(r):void C(n):parseInt(t)},R=function(t,e,n,r){var o=-1,i=0,u=0;if((o=e.indexOf(t))>-1&&")"!==e[i=o-1]&&"("!==e[u=o+1]){var s=S(e[i],n,r),c=S(e[u],n,r),a=w(t,_(s),_(c));return e[i]=a,e.splice(o,2),a}},k=function(t,e,n){var r=t,o=t.lastIndexOf("(");if(o>-1){r=r.slice(o+1,r.length);var i=r.indexOf(")");r=r.slice(0,i);var u=r.length,s=S(r,e,n);return t[o]=s,t.splice(o+1,u+1),s}},M=function(t,e,n){var o,i;if(1===t.length&&(o=v(r,_(t)))){var u=E(o[0],e,n),s=o[2];s&&(s=E(o[2],e,n));var c=o[1];return i=!a(u)||s||c?w(o[1],u,s):u,i||g(o[1],n),y(t,i),i}},S=function t(e,n,r){return e instanceof Array||(e=[e]),3!==e.length||f(u,l(e))||m("Invalid logical operator ["+l(e)+"] in expression ["+b(r)+"]"),j(function(){return M(e,n,r)},function(){return k(e,n,r)},function(){return R("&&",e,n,r)},function(){return R("||",e,n,r)})||e.length%2!=1||a(_(e))||C(r),e.length>1||!a(_(e))?t(e,n,r):e};e.getFields=function(t){return s[t].fields},e.deleteFromCache=function(t){return delete s[t]},e.generateRandomKey=function(){return Math.floor(72057594037927940*(1+Math.random())).toString(16).substring(1)},e.buildEvaluator=function(t,e,n){var r=p(t)||[];return s[n]={expression:t},r.length%2==0&&C(n),_(S(r,e,n))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(){function t(t,e){this._expression=t,this._controller=e,this._parserToken=r.generateRandomKey()}return Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentEvaluator",{get:function(){return this._evaluator},enumerable:!0,configurable:!0}),t.prototype.evaluate=function(){return this._evaluator||(this._evaluator=r.buildEvaluator(this._expression,this._controller,this._parserToken),this._fields=r.getFields(this._parserToken),r.deleteFromCache(this._parserToken)),this._evaluator()},t}();e.default=o}])})}).call(e,n(25)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);t.exports=r}])});