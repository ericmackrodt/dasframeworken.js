{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 603fef5c4c82d753716b","webpack:///./src/utils.ts","webpack:///./src/module.ts","webpack:///./src/templates/factory.ts","webpack:///./src/di.container.ts","webpack:///./src/base.ts","webpack:///./src/component.metadata.ts","webpack:///./src/component.ts","webpack:///./entry.ts","webpack:///./src/events/pubsub.ts","webpack:///./src/events/subscriber.ts","webpack:///./src/router.ts"],"names":[],"mappings":"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","file":"dasframeworken.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dasframeworken\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dasframeworken\"] = factory();\n\telse\n\t\troot[\"dasframeworken\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 603fef5c4c82d753716b","import { Type } from './types/interfaces';\n\n/**\n * Returns a promise based on the object passed as parameter.\n * It returns a failed or successful promise if it's a boolean.\n * If it's a promise, it returns itself.\n * If it's some other object, it returns a succesfull promise with that obj.\n * @param obj Object to promise\n */\nexport const returnPromise = (obj: any) => {\n    if (typeof obj === 'boolean') {\n        return obj ? Promise.resolve() : Promise.reject({});\n    } else if (typeof obj === 'object' && typeof obj.then === 'function') {\n        return obj;\n    } else {\n        return Promise.resolve(obj);\n    }\n};\n\n/**\n * Instantiates a Type.\n * @param type Type to be instantiated.\n * @param params Parameters to be passed to the constructor.\n */\nexport const instantiateType = <T>(type: Type<T>, ...params: any[]): T => {\n    params = params || [];\n    return new (type.bind.apply(type, [type].concat(params)))();\n};\n\n/**\n * Calls a function given the context if it's valid.\n * @param fn Function to be called.\n * @param ctx \"This\" context in which the function will be called.\n * @param args The arguments for the function.\n */\nexport const call = (fn: Function, ctx: Function, ...args: any[]) => isFunction(fn) && fn.call(ctx, ...args);\n\n/**\n * Checks object is a function.\n * @param fn Function to verify\n */\nexport const isFunction = (fn: any) => typeof fn === 'function';\n\nexport const randomName = () => Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.ts","// import { componentFactory } from './component.factory';\nimport { Router } from './router';\nimport * as utils from './utils';\nimport { Container } from './di.container';\nimport { Type, IComponentInstance, IModuleOptions, IRoute } from './types/interfaces';\n\nexport class Module {\n    private _rootComponent: IComponentInstance;\n    private _routeComponent: IComponentInstance;\n    private _preLoad: <T>() => Promise<T> | boolean | void;\n    private _router: Router;\n    // private _routerComponent: ComponentContainer;;\n    // private _rootComponentContainer: ComponentContainer;\n\n    get rootComponent() {\n        return this._rootComponent;\n    }\n\n    constructor(\n        private _container: Container,\n        private _name: string, \n        private options: Partial<IModuleOptions>\n    ) {\n        options = options || {};\n        this._name = name;\n        this._preLoad = options.preLoad;\n        \n        if (options.routes) this._registerRoutes(options.routes);\n    }\n\n    _registerRoutes(routes: IRoute[]) {\n        this._router = new Router(routes);\n        this._router.onRouteChanging = () => {\n            if (this._routeComponent) {\n                this._routeComponent.teardown();\n            }\n        };\n        this._router.onRouteChanged = (route) => {\n            const outlet: Element = document.getElementsByTagName('router-outlet')[0];\n            if (route.root && outlet) {\n                this._routeComponent = this._buildComponent(route.root, outlet);\n            }\n        };\n    }\n\n    _buildComponent(type: Type<IComponentInstance>, element: Element) {\n        while (element.firstChild) {\n            element.removeChild(element.firstChild);\n        }\n\n        const component = utils.instantiateType(type, this._container, this);\n        component.initialize(element);\n        return component;\n    }\n\n    deploy(element: HTMLElement) {\n        const preLoad = this._preLoad && this._preLoad();\n        utils.returnPromise(preLoad).then(() => {\n            if (this.options.root) {\n                this._rootComponent = this._buildComponent(this.options.root, element);\n            } \n            // else if (this.options.routes) {\n            //     this._initializeRouting(element);\n            // }\n        });\n    } \n}\n\n\n// WEBPACK FOOTER //\n// ./src/module.ts","import { IKeyValue, IComponentInstance } from './../types/interfaces';\nimport { randomName } from './../utils';\nimport { Container } from './../di.container';\n\nexport class Factory {\n    constructor(\n        private _elementRegistry: IKeyValue<Element | Text>,\n        private _componentRegistry: any[],\n        private _component: IComponentInstance,\n        private _container: Container\n    ) {\n\n    }\n\n    public root(name: string, ...children: Element[]) {\n        const root = document.createElement(name);\n        this._elementRegistry[randomName()] = root;\n        children.forEach(child => root.appendChild(child));\n        return root;\n    }\n\n    public element(name: string, attributes: IKeyValue<string>, ...children: (Element | Text)[]) {\n        const element = document.createElement(name);\n        this._elementRegistry[randomName()] = element;\n        if (attributes) {\n            Object.keys(attributes).forEach(key => element.setAttribute(key, attributes[key]));\n        }\n        if (children) {\n            children.forEach(child => element.appendChild(child));\n        }\n        return element;\n    }\n\n    public text(content: string) {\n        const text = document.createTextNode(content);\n        this._elementRegistry[randomName()] = text;\n        return text;\n    }\n\n    public boundText(property: string, fn: () => string) {\n        const text = document.createTextNode('');\n        this._elementRegistry[randomName()] = text;\n        this._component.registerBinding(property, () => {\n            text.textContent = fn();\n        });\n        return text;\n    }\n\n    public setEvent(element: Element, event: string, fn: ($event: Event) => any) {\n        this._component.registerEvent(element, event, fn);\n    }\n\n    public bind(property: string, fn: () => any) {\n        this._component.registerBinding(property, fn);\n    }\n\n    public component(component: any) {\n        const c = new component(this._container);\n        this._componentRegistry.push(c);\n        return c.initialize();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/templates/factory.ts","import { Type, ITypeRegistry, IKeyValue, IRegisteredType } from './types/interfaces';\nimport * as utils from './utils';\n\nconst getName = <T>(type: Type<T> | string) => isString(type) ? type : type.name;\nconst isString = <T>(obj: Type<T> | string): obj is string => typeof obj === 'string';\nconst throwException = (text: string) => { throw new Error(text) };\n\n/**\n * Represents the container\n */\nexport class Container {\n    private _typeRegistry: ITypeRegistry;\n\n    public get typeRegistry() {\n        return this._typeRegistry;\n    }\n\n    constructor() {\n        this._typeRegistry = {};\n    }\n    \n    /**\n     * Instantiates a type that is registered in the container with its dependencies.\n     * @param type Type that will be instantiated, it can be the type itself or the name.\n     */\n    public getInstance<T>(type: Type<T> | string, autoRegister?: boolean) {\n        const name = getName(type);\n        let registered = this._typeRegistry[name];\n\n        if (!registered && !autoRegister) throwException(`Type (${name}) not registered`);\n\n        if (autoRegister === true && !registered) {\n            if (typeof type === 'string') {\n                throwException(`Type registering type ${name} has to be a class`);\n            }\n\n            registered = this.registerType(type as Type<T>);\n        }\n\n        if (!registered.instance) {\n            registered.instance = this.resolve(registered.type);\n        }\n        return registered.instance;\n    }\n\n    /**\n     * Instantiates any type and tries to resolve dependencies that are registered in the container.\n     * @param type The type to be resolved\n     */\n    public resolve<T>(type: Type<T>, autoRegister?: boolean) {\n        const constructorDependencies = type.prototype._constructorDependencies;\n        const propertyDependencies = type.prototype.propertyDependencies;\n\n        if (!constructorDependencies && !propertyDependencies) {\n            return utils.instantiateType(type);\n        }\n\n        const serviceInstances = \n            constructorDependencies && constructorDependencies.map((d: Function) => this.getInstance(d as Type<T>, autoRegister));\n\n        if (propertyDependencies) {\n            Object.keys(propertyDependencies).forEach((key) => {\n                const dependency = propertyDependencies[key];\n                type.prototype[key] = this.getInstance(dependency, autoRegister);\n            });\n        }\n\n        return utils.instantiateType(type, ...serviceInstances);\n    }\n\n    /**\n     * Registers a type in the container.\n     * @param type Type to be registered\n     */\n    public registerType <T>(type: Type<T>): IRegisteredType {\n        const name = getName(type);\n        let registered = this._typeRegistry[name];\n        if (!registered) {\n            registered = this._typeRegistry[name] = { type: type, instance: undefined };\n        }\n\n        return registered;\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/di.container.ts","import { Module } from './module';\nimport { Container } from './di.container';\nimport { IModuleOptions } from './types/interfaces';\n// import Component from \"./component\";\n// import { IComponentInstance } from \"types/interfaces\";\n\nconst modules: { [key: string]: Module } = {};\nconst container = new Container();\n\nexport const module = (name: string, options: Partial<IModuleOptions>) => {\n    let module = modules[name];\n    if (!module) {\n        module = new Module(container, name, options);\n        modules[name] = module;\n    }\n    return module;\n}\n\n// export const deploy = (component: any, host: HTMLElement) => {\n//     // const container = new Container();\n//     // const instance = container.resolve(component);\n    \n// }\n\n\n// WEBPACK FOOTER //\n// ./src/base.ts","import { call } from './utils';\nimport { Type } from './types/interfaces';\n\nexport function observable() {\n    return function (target: any, propertyKey: string): any {\n        let _private: any;\n        \n        return {\n            get: function() {\n                return _private;\n            },\n            set: function(val: any) {\n                if (_private !== val) {\n                    _private = val;\n                    setTimeout(() => call(this.onPropertyChanged, this, propertyKey), 1);\n                }\n            },\n            enumerable: true\n        };\n    };\n}\n\nexport function inject(type: Type<any>) {\n    return function (target: any, propertyKey: string): any {\n        if (!target.propertyDependencies) {\n            target.propertyDependencies = {};\n        }\n\n        target.propertyDependencies[propertyKey] = type;\n        return null;\n    };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/component.metadata.ts","import { IComponentMetadata } from './types/interfaces';\n// import { Pubsub } from './events/pubsub';\nimport { Module } from './module';\nimport { Container } from './di.container';\nimport { Type, IComponentInstance, IController, IEventListener } from './types/interfaces';\nimport { Factory } from './templates/factory';\nimport { Pubsub } from './events/pubsub';\n\nexport const Component = function({ view, controller }: IComponentMetadata): Type<IComponentInstance> {\n    // const bindings = new Pubsub();\n    // const eventListeners = [];\n    // const children = [];\n    // const directives = [];\n    const _bindings = new Pubsub();\n    const _eventListeners: IEventListener[] = [];\n\n    return class ComponentInstance implements IComponentInstance {\n        // private _container: Container;\n        // private _module: Module;\n        private _controller: IController;\n\n        constructor(\n            private _container?: Container,\n            private _module?: Module\n        ) {\n            if (!_container) {\n                this._container = new Container();\n            }\n        }\n\n        public registerEvent(element: Element, event: string, callback: (arg: any) => void) {\n            let listener = _eventListeners.find((e: IEventListener) => e.element === element && e.event === event);\n            if (!listener) {\n                listener = {\n                    element: element,\n                    event: event,\n                    callback: callback\n                };\n    \n                element.addEventListener(event, callback, true);\n                _eventListeners.push(listener);\n            }\n        }\n\n        public registerBinding(property: string, binding: (property: string) => void) {\n            _bindings.subscribe(property, binding);\n            binding(property);\n        }\n\n        // TODO: Order initializatio and creat hooks\n        public initialize(element?: Element) {\n            this._controller = this._container.resolve(controller, true);\n            const factory = new Factory({}, [], this, this._container);\n            const rendered = view(factory, this._controller);\n            if (element) element.appendChild(rendered);\n\n            if (typeof this._controller.onPropertyChanged !== 'function') {\n                this._controller.onPropertyChanged = (name: string) => _bindings.emit(name, name);\n            }\n\n            return rendered;\n        }\n\n        public teardown() {\n\n        }\n    }\n}\n\nexport default Component;\n\n\n// WEBPACK FOOTER //\n// ./src/component.ts","export { module } from './src/base';\nexport { Component } from './src/component';\nexport * from './src/module';\nexport * from './src/types/interfaces';\nexport * from './src/component.metadata';\nexport * from './src/templates/factory';\n\n\n// WEBPACK FOOTER //\n// ./entry.ts","import { Subscriber } from './subscriber';\n\nexport class Pubsub {\n    private _subscriptions: any\n\n    constructor () {\n        this._subscriptions = {};\n    }\n\n    subscribe(name: string, callback: Function) {\n        let subscription = this._subscriptions[name];\n        if (!subscription) {\n            this._subscriptions[name] = subscription = new Subscriber();\n        }\n        subscription.subscribe(callback);\n    }\n\n    emit(name: string, data: any) {\n        let subscription = this._subscriptions[name];\n        if (subscription) {\n            subscription.emit(data);\n        }\n    }\n\n    get(name: string) {\n        return this._subscriptions[name];\n    }\n\n    unsubscribe(name: string) {\n        let subscription = this._subscriptions[name];\n        if (subscription) {\n            subscription.teardown();\n        }\n        delete this._subscriptions[name];\n    }\n\n    teardown() {\n        for (let key of Object.keys(this._subscriptions)) {\n            this.unsubscribe(key);\n        }\n        delete this._subscriptions;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/events/pubsub.ts","export class Subscriber {\n    private _subscriptions: any[];\n\n    constructor() {\n        this._subscriptions = [];\n    }\n\n    subscribe(fn: Function) {\n        if (this._subscriptions) {\n            this._subscriptions.push(fn);\n        } \n    }\n\n    emit(data: any) {\n        this._subscriptions.forEach(sub => { \n            setTimeout(() => sub(data), 1);\n        });\n    }\n\n    remove(fn: Function) {\n        const index = this._subscriptions.indexOf(fn);\n        this._subscriptions.splice(index, 1);\n    }\n\n    teardown() {\n        for(let i = this._subscriptions.length - 1; i--;){\n            this._subscriptions.splice(i, 1);\n        }\n        delete this._subscriptions;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/events/subscriber.ts","import * as utils from './utils';\nimport { IRoute } from './types/interfaces';\n\nexport class Router {\n    private _routes: IRoute[];\n    private _currentRoute: IRoute;\n    private _onChange: (eventArgs: HashChangeEvent) => void;\n\n    public onRouteChanging: (oldRoute: IRoute, newRoute: IRoute) => void;\n    public onRouteChanged: (currentRoute: IRoute) => void;\n\n    constructor(routes: IRoute[]) {\n        this._routes = routes;\n        this._currentRoute = null;\n        this._onChange = (eventArgs) => {\n            const oldUrl = eventArgs.oldURL;\n            const newUrl = eventArgs.newURL;\n            const url = this._getHash(newUrl) || location.hash.slice(1) || '/';\n            const route = this._routes.find((r: IRoute) => r.path === url);\n            if (!route) return;\n\n            const resolve = route.resolve && route.resolve(route);\n\n            utils.returnPromise(resolve)\n                .then(() => {\n                    if (typeof this.onRouteChanging === 'function') {\n                        this.onRouteChanging(this._currentRoute, route);\n                    }\n                    this._currentRoute = route;\n                    if (typeof this.onRouteChanged === 'function') {\n                        this.onRouteChanged(this._currentRoute);\n                    }\n                })\n                .catch((ex: any) => {\n                    console.error(ex);\n                    history.replaceState({}, route.path, '#' + this._getHash(oldUrl));\n                });\n        };\n        window.addEventListener('hashchange', this._onChange);\n        window.addEventListener('load', this._onChange);\n    }\n\n    _getHash(url: string) {\n        if (!url) return url;\n        const indexHash = url.indexOf('#') + 1;\n        return url.substring(indexHash, url.length);\n    }\n\n    destroy() {\n        window.removeEventListener('hashchange', this._onChange);\n        window.removeEventListener('load', this._onChange);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/router.ts"],"sourceRoot":""}